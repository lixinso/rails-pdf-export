

Processing ApplicationController#index (for 127.0.0.1 at 2011-05-25 23:11:14) [GET]

ActionController::RoutingError (No route matches "/testpdf/1.pdf" with {:method=>:get}):
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2011-05-25 23:11:34) [GET]

ActionController::RoutingError (No route matches "/testpdf/show/1.pdf" with {:method=>:get}):
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2011-05-26 08:21:44) [GET]

ActionController::RoutingError (No route matches "/testpdf/show/1.pdf" with {:method=>:get}):
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2011-05-26 08:26:24) [GET]

ActionController::RoutingError (No route matches "/pdf2/new" with {:method=>:get}):
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing Pdf2sController#new (for 127.0.0.1 at 2011-05-26 08:26:28) [GET]

ActiveRecord::StatementInvalid (Could not find table 'pdf2s'):
  app/controllers/pdf2s_controller.rb:27:in `new'
  app/controllers/pdf2s_controller.rb:27:in `new'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (31.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePdf2s (20110526002500)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "pdf2s" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "htmlcontent" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110526002500')[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pdf2s")[0m


Processing Pdf2sController#new (for 127.0.0.1 at 2011-05-26 08:26:51) [GET]
Rendering template within layouts/pdf2s
Rendering pdf2s/new
Completed in 16ms (View: 13, DB: 0) | 200 OK [http://localhost/pdf2s/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePdf2s (20110526002500)
Migrating to CreatePdf3s (20110526002834)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "pdf3s" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "htmlcontent" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110526002834')[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pdf2s")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("pdf3s")[0m


Processing Pdf3sController#new (for 127.0.0.1 at 2011-05-26 08:28:48) [GET]
Rendering template within layouts/pdf3s
Rendering pdf3s/new
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/pdf3s/new]


Processing Pdf3sController#create (for 127.0.0.1 at 2011-05-26 08:30:34) [POST]
  Parameters: {"commit"=>"Create", "pdf3"=>{"htmlcontent"=>"<ul>\r\n\t<li>\r\n\t\t<em>Resolved,</em> the House of _______ concurring, That&nbsp;</li>\r\n</ul>\r\n<p>\r\n\tHello, h<strong>ere is </strong>the</p>\r\n"}, "authenticity_token"=>"oDcMvip9FL+zcseBfPZ6hHz5ov5R1P5ohCMVzZoM4eQ="}
  [4;36;1mPdf3 Create (0.3ms)[0m   [0;1mINSERT INTO "pdf3s" ("created_at", "updated_at", "htmlcontent") VALUES('2011-05-26 00:30:34', '2011-05-26 00:30:34', '<ul>
	<li>
		<em>Resolved,</em> the House of _______ concurring, That&nbsp;</li>
</ul>
<p>
	Hello, h<strong>ere is </strong>the</p>
')[0m
Redirected to http://localhost:3000/pdf3s/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/pdf3s]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:30:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 1) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/pdf3s/1]


Processing Pdf3sController#edit (for 127.0.0.1 at 2011-05-26 08:30:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 1) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/edit
Completed in 11ms (View: 8, DB: 0) | 200 OK [http://localhost/pdf3s/1/edit]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:32:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 1) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/pdf3s/1]


Processing Pdf3sController#index (for 127.0.0.1 at 2011-05-26 08:32:15) [GET]
  [4;36;1mPdf3 Load (0.3ms)[0m   [0;1mSELECT * FROM "pdf3s" [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/index
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/pdf3s]


Processing Pdf3sController#new (for 127.0.0.1 at 2011-05-26 08:32:18) [GET]
Rendering template within layouts/pdf3s
Rendering pdf3s/new
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/pdf3s/new]


Processing Pdf3sController#new (for 127.0.0.1 at 2011-05-26 08:32:27) [GET]
Rendering template within layouts/pdf3s
Rendering pdf3s/new
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/pdf3s/new]


Processing Pdf3sController#create (for 127.0.0.1 at 2011-05-26 08:32:29) [POST]
  Parameters: {"commit"=>"Create", "pdf3"=>{"htmlcontent"=>"<ul> <li> <em>Resolved,</em> the House of _______ concurring, That&nbsp;</li> </ul> <p> Hello, h<strong>ere is </strong>the</p>"}, "authenticity_token"=>"oDcMvip9FL+zcseBfPZ6hHz5ov5R1P5ohCMVzZoM4eQ="}
  [4;35;1mPdf3 Create (0.2ms)[0m   [0mINSERT INTO "pdf3s" ("created_at", "updated_at", "htmlcontent") VALUES('2011-05-26 00:32:29', '2011-05-26 00:32:29', '<ul> <li> <em>Resolved,</em> the House of _______ concurring, That&nbsp;</li> </ul> <p> Hello, h<strong>ere is </strong>the</p>')[0m
Redirected to http://localhost:3000/pdf3s/2
Completed in 7ms (DB: 0) | 302 Found [http://localhost/pdf3s]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:32:29) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/pdf3s/2]


Processing Pdf3sController#edit (for 127.0.0.1 at 2011-05-26 08:32:32) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/edit
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/pdf3s/2/edit]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:32:49) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.2ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 44ms (View: 2, DB: 0) | 200 OK [http://localhost/pdf3s/2]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:32:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 1) [0m
Rendering pdf3s/show
Completed in 155ms (View: 150, DB: 0) | 200 OK [http://localhost/pdf3s/1.pdf]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:34:12) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/pdf3s/2]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:34:17) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1: syntax error, unexpected '<'
...awnto_options[:prawn]);txt = <h1>xxxxx</h1>
                              ^
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1: unterminated string meets end of file
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = <h1>xxxxx</h1>
pdf.text(wrap(sanitize(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1: syntax error, unexpected '<'
...awnto_options[:prawn]);txt = <h1>xxxxx</h1>
                              ^
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1: unterminated string meets end of file
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:1: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR) on line #1 of app/views/pdf3s/show.pdf.prawn:
1: txt = <h1>xxxxx</h1>
2: pdf.text(wrap(sanitize(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:1:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (85.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:34:51) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show

ActionView::TemplateError (uninitialized constant ApplicationHelper::Nokogiri) on line #2 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>xxxxx</h1>"
2: pdf.text(wrap(sanitize(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/helpers/application_helper.rb:4:in `wrap'
    app/views/pdf3s/show.pdf.prawn:2:in `_run_prawn_app47views47pdf3s47show46pdf46prawn'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:35:47) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 95ms (View: 92, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:37:16) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show

ActionView::TemplateError (undefined method `htmlcontent' for nil:NilClass) on line #2 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>xxxxx</h1>"
2: pdf.text(wrap(sanitize(@pdf3s.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:2:in `_run_prawn_app47views47pdf3s47show46pdf46prawn'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (36.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:37:30) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 100ms (View: 97, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:38:00) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.2ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/pdf3s/2]


Processing Pdf3sController#edit (for 127.0.0.1 at 2011-05-26 08:38:09) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/edit
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/pdf3s/2/edit]


Processing Pdf3sController#update (for 127.0.0.1 at 2011-05-26 08:38:23) [PUT]
  Parameters: {"commit"=>"Update", "pdf3"=>{"htmlcontent"=>"<ul> <li> <em>Resolved,</em> the House of _______ concurring, That&nbsp;</li><li> <em>Resolved,</em> the House of _______ concurring, That&nbsp;</li> </ul> <p> Hello, h<strong>ere is </strong>the</p>"}, "authenticity_token"=>"oDcMvip9FL+zcseBfPZ6hHz5ov5R1P5ohCMVzZoM4eQ=", "id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
  [4;35;1mPdf3 Update (0.2ms)[0m   [0mUPDATE "pdf3s" SET "updated_at" = '2011-05-26 00:38:23', "htmlcontent" = '<ul> <li> <em>Resolved,</em> the House of _______ concurring, That&nbsp;</li><li> <em>Resolved,</em> the House of _______ concurring, That&nbsp;</li> </ul> <p> Hello, h<strong>ere is </strong>the</p>' WHERE "id" = 2[0m
Redirected to http://localhost:3000/pdf3s/2
Completed in 8ms (DB: 0) | 302 Found [http://localhost/pdf3s/2]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:38:23) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/pdf3s/2]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:38:28) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 147ms (View: 143, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]


Processing Pdf3sController#edit (for 127.0.0.1 at 2011-05-26 08:38:42) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/edit
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/pdf3s/2/edit]


Processing Pdf3sController#edit (for 127.0.0.1 at 2011-05-26 08:38:42) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/edit
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/pdf3s/2/edit]


Processing Pdf3sController#show (for 127.0.0.1 at 2011-05-26 08:41:36) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering template within layouts/pdf3s
Rendering pdf3s/show
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/pdf3s/2]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:41:39) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.2ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:9: syntax error, unexpected tIDENTIFIER, expecting kEND
        <a href="http://google.ca">I am a link</a>
                     ^
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:9: unknown regexp options - ggl
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:16: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<html>
  <head>
    <title>Hello World</title>
  </head>
  <body>
    <h1>This is an awesome document</h1>
    <p>
      I am a paragraph
        <a href="http://google.ca">I am a link</a>
    </p>
  </body>
</html>
"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:20:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:9: syntax error, unexpected tIDENTIFIER, expecting kEND
        <a href="http://google.ca">I am a link</a>
                     ^
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:9: unknown regexp options - ggl
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:16: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #9 of app/views/pdf3s/show.pdf.prawn:
6:     <h1>This is an awesome document</h1>
7:     <p>
8:       I am a paragraph
9:         <a href="http://google.ca">I am a link</a>
10:     </p>
11:   </body>
12: </html>

    app/views/pdf3s/show.pdf.prawn:20:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (80.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:42:13) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:16: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<html>
  <head>
    <title>Hello World</title>
  </head>
  <body>
    <h1>This is an awesome document</h1>
    <p>
      I am a paragraph
        <a href='http//google.ca'>I am a link</a>
    </p>
  </body>
</html>
"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:20:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:16: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #16 of app/views/pdf3s/show.pdf.prawn:
13: "
14: 
15: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
16: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:20:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (34.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:43:50) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:9: syntax error, unexpected ',', expecting kEND
...=> %w(p i b s u ul ol li a))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "
    <h1>This is an awesome document</h1>
    <p>
      I am a paragraph
    </p>
"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li a))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:13:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:9: syntax error, unexpected ',', expecting kEND
...=> %w(p i b s u ul ol li a))), :inline_format => true)
                              ^) on line #9 of app/views/pdf3s/show.pdf.prawn:
6: "
7: 
8: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
9: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li a))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:13:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (34.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:11) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...=> %w(p i b s u ul ol li a))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li a))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...=> %w(p i b s u ul ol li a))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li a))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (80.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:44) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.2ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:44) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (82.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:45) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (34.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:45) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (77.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:45) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (80.3ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:45) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (34.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:45) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.3ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (34.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:44:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
ERROR: compiling _run_prawn_app47views47pdf3s47show46pdf46prawn RAISED compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^
Function body:           def _run_prawn_app47views47pdf3s47show46pdf46prawn(local_assigns)
            old_output_buffer = output_buffer;;_prawnto_compile_setup;pdf = Prawn::Document.new(@prawnto_options[:prawn]);txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"

#pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)
pdf.render;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:8:in `compile!'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:21:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/data/projects/rails-pdf-export/pdf_rails/app/controllers/pdf3s_controller.rb:18:in `show'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/head.rb:9:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/methodoverride.rb:24:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `synchronize'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/lock.rb:11:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:47:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `each'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/urlmap.rb:41:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/content_length.rb:13:in `call'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:48:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rack-1.1.2/lib/rack/handler/webrick.rb:14:in `run'
/Users/admin/.rvm/gems/ruby-1.8.7-p334/gems/rails-2.3.8/lib/commands/server.rb:111
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/data/projects/rails-pdf-export/pdf_rails/app/views/pdf3s/show.pdf.prawn:4: syntax error, unexpected ',', expecting kEND
...s => %w(p i b s u ul ol li))), :inline_format => true)
                              ^) on line #4 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: #pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/views/pdf3s/show.pdf.prawn:8:in `compile!'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:45:11) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 148ms (View: 145, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:53:53) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show

ActionView::TemplateError (undefined local variable or method `markup' for #<ActionView::Base:0x1030cdce0>) on line #3 of app/views/pdf3s/show.pdf.prawn:
1: txt = "<h1>This is an awesome document</h1><p>I am a paragraph</p>"
2: 
3: pdf.text(wrap(sanitize(@pdf3.htmlcontent, :tags => %w(p i b s u ul ol li))), :inline_format => true)
4: #pdf.text(wrap(txt, :tags => %w(p i b s u ul ol li))), :inline_format => true)

    app/helpers/application_helper.rb:28:in `wrap'
    app/views/pdf3s/show.pdf.prawn:3:in `_run_prawn_app47views47pdf3s47show46pdf46prawn'
    app/controllers/pdf3s_controller.rb:21:in `show'
    app/controllers/pdf3s_controller.rb:18:in `show'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/admin/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:54:08) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 100ms (View: 96, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:55:05) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mPdf3 Load (0.1ms)[0m   [0;1mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 103ms (View: 100, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]


Processing Pdf3sController#show to pdf (for 127.0.0.1 at 2011-05-26 08:55:45) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mPdf3 Load (0.1ms)[0m   [0mSELECT * FROM "pdf3s" WHERE ("pdf3s"."id" = 2) [0m
Rendering pdf3s/show
Completed in 99ms (View: 96, DB: 0) | 200 OK [http://localhost/pdf3s/2.pdf]
